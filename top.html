<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Top 5 Players</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
<style>
  img.avatar {
    width: 50px;
    height: 50px;
    object-fit: cover;
    border-radius: 50%;
  }
</style>
</head>
<body class="bg-dark text-white p-3">

<div class="container">
  <h2 class="text-warning mb-3">Top 5 Players</h2>

  <table class="table table-dark table-striped">
    <thead>
      <tr>
        <th>Rank</th>
        <th>Name</th>
        <th>Game</th>
        <th>Username</th>
        <th>Level</th>
        <th>Rank</th>
        <th>Team</th>
        <th>Role</th>
        <th>Favorite</th>
        <th>Avatar</th>
      </tr>
    </thead>
    <tbody>
      {% for p in top5 %}
      <tr>
        <td>{{ loop.index }}</td> <!-- loop.index replaces enumerate -->
        <td>{{ p[1] }}</td>
        <td>{{ p[2] }}</td>
        <td>{{ p[3] }}</td>
        <td>{{ p[4] }}</td>
        <td>{{ get_rank(p[4], p[2]) }}</td>
        <td>{{ p[5] }}</td>
        <td>{{ p[6] }}</td>
        <td>{{ p[7] }}</td>
        <td>
          {% if p[8] %}
          <img src="{{ url_for('static', filename=p[8]) }}" class="avatar">
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <a href="{{ url_for('user_page') }}" class="btn btn-primary mt-2">Back to Player List</a>
</div>

</body>
</html>
